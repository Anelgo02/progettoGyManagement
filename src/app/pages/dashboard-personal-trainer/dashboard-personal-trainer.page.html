
<!-- MENU LATERALE -->
<ion-menu side="start" menuId="main-menu" contentId="main-content">
  <ion-header>
    <ion-toolbar color="primary">
      <ion-title>Menu</ion-title>
    </ion-toolbar>
  </ion-header>
  <ion-content>
    <div class="menu-flex-container">
      <ion-list>
        <ion-item (click)="gestisciSlot()">
          <ion-icon name="calendar-outline" slot="start"></ion-icon>
          <ion-label>Gestisci slot</ion-label>
        </ion-item>
        <ion-item (click)="vediClienti()">
          <ion-icon name="people-outline" slot="start"></ion-icon>
          <ion-label>Lista clienti</ion-label>
        </ion-item>
      </ion-list>
      <div class="menu-bottom">
        <ion-button expand="block" color="danger" class="logoutBtn" (click)="logout()">
          <ion-icon name="log-out-outline" slot="start"></ion-icon>
          Logout
        </ion-button>
        <div class="menu-footer">
          Gruppo studio Gulo-Cipo-Cost:<br>
          Progetto Universit√† degli Studi di Palermo
        </div>
      </div>
    </div>
  </ion-content>
</ion-menu>

<!-- HEADER -->
<ion-header translucent>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-menu-button menu="main-menu"></ion-menu-button>
    </ion-buttons>
    <ion-title style="color: aliceblue;">
      GyManagement
      <img src="../../../assets/icon/powerlifting.png" alt="Logo" style="height: 32px; width: auto; vertical-align: middle;" />
    </ion-title>
  </ion-toolbar>
</ion-header>

<!-- CONTENUTO PRINCIPALE -->
<ion-content id="main-content" fullscreen class="ion-padding">
  <ng-container *ngIf="nextSessions$ | async as sessioni; else loading">
    <ion-card *ngFor="let s of sessioni">
      <ion-card-header>
        <ion-card-title>Sessione con {{ s.customer_name }}</ion-card-title>
        <ion-card-subtitle>
          {{ s.start_time | date:'dd/MM/yyyy' }} - {{ s.start_time | date:'HH:mm' }}
        </ion-card-subtitle>
      </ion-card-header>
      <ion-card-content>
        <p><strong>Email cliente:</strong> {{ s.customer_email }}</p>
        <ion-chip color="primary">
          Slot #{{ s.id }}
        </ion-chip>
      </ion-card-content>
    </ion-card>
    <div *ngIf="!sessioni.length" class="no-workouts">
      Nessuna sessione programmata.
    </div>
  </ng-container>

  <ng-template #loading>
    <ion-skeleton-text animated style="width: 80%; height: 20px;"></ion-skeleton-text>
    <ion-skeleton-text animated style="width: 90%; height: 20px;"></ion-skeleton-text>
    <ion-skeleton-text animated style="width: 70%; height: 20px;"></ion-skeleton-text>
  </ng-template>
</ion-content>

<!-- TAB BAR -->
<ion-footer>
  <ion-tab-bar slot="bottom">
    <ion-tab-button tab="home" routerLink="/trainer/dashboard">
      <ion-icon name="home"></ion-icon>
      <ion-label>Home</ion-label>
    </ion-tab-button>
    <ion-tab-button tab="slots" routerLink="/trainer/manage-slots">
      <ion-icon name="calendar"></ion-icon>
      <ion-label>Slot</ion-label>
    </ion-tab-button>
    <ion-tab-button tab="profilo" routerLink="/trainer/profile-page">
      <ion-icon name="person"></ion-icon>
      <ion-label>Profilo</ion-label>
    </ion-tab-button>
  </ion-tab-bar>
</ion-footer>
